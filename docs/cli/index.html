<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CLI | ObjD</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#1069b4">
    <meta name="description" content="objD is a framework for developing Datapacks for Minecraft.">
    <meta name="theme-color" content="#1069b4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/icon-144x144.png">
    <meta name="msapplication-TileColor" content="#1069b4">
    <link rel="preload" href="/assets/css/0.styles.4e7a331c.css" as="style"><link rel="preload" href="/assets/js/app.5e592de7.js" as="script"><link rel="preload" href="/assets/js/3.08bce26b.js" as="script"><link rel="preload" href="/assets/js/9.d60579bc.js" as="script"><link rel="prefetch" href="/assets/js/10.f1563eff.js"><link rel="prefetch" href="/assets/js/11.496bfa8e.js"><link rel="prefetch" href="/assets/js/12.233832cf.js"><link rel="prefetch" href="/assets/js/13.5ae0cc67.js"><link rel="prefetch" href="/assets/js/14.736804ca.js"><link rel="prefetch" href="/assets/js/4.c180e31c.js"><link rel="prefetch" href="/assets/js/5.b3fc7413.js"><link rel="prefetch" href="/assets/js/6.1dd52ee4.js"><link rel="prefetch" href="/assets/js/7.4f2d4167.js"><link rel="prefetch" href="/assets/js/8.3f0ec1d2.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f5584d80.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4e7a331c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="ObjD" class="logo"> <span class="site-name can-hide">ObjD</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/basics/" class="nav-link">
  Basics
</a></div><div class="nav-item"><a href="/wrappers/" class="nav-link">
  Wrappers
</a></div><div class="nav-item"><a href="/texts/" class="nav-link">
  Texts
</a></div><div class="nav-item"><a href="/utils/" class="nav-link">
  Utils
</a></div><div class="nav-item"><a href="/modules/" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/cli/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  CLI
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/basics/" class="nav-link">
  Basics
</a></div><div class="nav-item"><a href="/wrappers/" class="nav-link">
  Wrappers
</a></div><div class="nav-item"><a href="/texts/" class="nav-link">
  Texts
</a></div><div class="nav-item"><a href="/utils/" class="nav-link">
  Utils
</a></div><div class="nav-item"><a href="/modules/" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/cli/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  CLI
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>CLI</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cli/#commands" class="sidebar-link">Commands</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cli/#build-options" class="sidebar-link">Build Options</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cli/#hotreload" class="sidebar-link">Hotreload</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/cli/#objd-3rd-party-support" class="sidebar-link">objD 3rd-Party-Support</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cli/#getallfiles" class="sidebar-link">getAllFiles</a></li><li class="sidebar-sub-header"><a href="/cli/#getjsonmap" class="sidebar-link">getJsonMap</a></li><li class="sidebar-sub-header"><a href="/cli/#saveaszip" class="sidebar-link">saveAsZip</a></li><li class="sidebar-sub-header"><a href="/cli/#getarchive" class="sidebar-link">getArchive</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="cli"><a href="#cli" class="header-anchor">#</a> CLI</h1> <p>The objD CLI is an additional package to handle execution, building and deploying of your project. To activate the global package(will be available anywhere on your system), run this command:</p> <div class="language- extra-class"><pre class="language-text"><code>pub global activate objd_cli
</code></pre></div><p>This will add the commands to your console.
To run a command run:</p> <div class="language- extra-class"><pre class="language-text"><code>objd [command] [args]
</code></pre></div><p>OR</p> <div class="language- extra-class"><pre class="language-text"><code>pub global run objd_cli:objd [command] [args]
</code></pre></div><blockquote><p>If the objd command is not available, you have to add the pub cache to your system path. Follow this tutorial: <a href="https://www.dartlang.org/tools/pub/cmd/pub-global#running-a-script-from-your-path" target="_blank" rel="noopener noreferrer">https://www.dartlang.org/tools/pub/cmd/pub-global#running-a-script-from-your-path<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="commands"><a href="#commands" class="header-anchor">#</a> Commands</h2> <ul><li><strong>help</strong> - opens a help menu with all commands</li> <li><strong>new</strong> [project_name] - generates a new project from a boilerplate</li> <li><strong>run</strong> [project_root] - builds one project</li> <li><strong>serve</strong> [project_root] - watches the current directory to change and builds the project on change</li> <li><strong>server inject</strong> [jar-file] - injects a server file(use bukkit with plugins to reload automatically) before starting the server(The file is not included in the package due to legal reasons)</li> <li><strong>server start</strong> [world_dir] - copies the world into the server directory and starts the server</li></ul> <h2 id="build-options"><a href="#build-options" class="header-anchor">#</a> Build Options</h2> <p>You can use certain arguments to pass options to the build methods.
This argument list can directly be edited in createProject:</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token function">createProject</span><span class="token punctuation">(</span>
	<span class="token function">Project</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token string">&quot;arg1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;arg2&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">]</span> <span class="token comment">// arguments as optional List</span>
<span class="token punctuation">)</span>
</code></pre></div><p><strong>OR</strong> (what I recommend) you can just take the program arguments from main:</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">createProject</span><span class="token punctuation">(</span>
    <span class="token function">Project</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    args
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This allows you to use the arguments in the execution command, like:</p> <ul><li><code>dart index.dart arg1 --min</code></li> <li><code>objd run index.dart arg1 --min</code></li> <li><code>objd serve index.dart --min</code></li></ul> <p><strong>All Available Arguments:</strong></p> <ul><li><code>--hotreload</code>: Saves the state of your project and compares just the latest changes.</li> <li><code>--full</code>: Generates the full project(just for objd serve!).</li> <li><code>--min</code>: This minifies the file amount by ignoring the mcmeta and tag files</li> <li><code>--prod</code>: This creates a production build of your project and saves it into a zipped datapack.
In Production Comments and line breaks are removed and every widget can access the prod value in Context to get notified.</li> <li><code>--debug</code>: This creates a debug json file in your project root, that lists all properties and other generated files</li> <li><code>--zip</code>: Creates an Zip archive instead of a folder with your datapack contents(default in production more)</li> <li><code>--no-zip</code>: Forces the usual folder output instead of zip</li></ul> <h2 id="hotreload"><a href="#hotreload" class="header-anchor">#</a> Hotreload</h2> <p>The hotreload option is an experimental feature, that just looks at the things you changed since the last build. This can improve performance significantly especially for big projects with many generated mcfunctions.</p> <p>This feature is enabled by default for <code>objd serve</code>, if you include the args.
You can disable it with the <code>--full</code> option.</p> <p><strong>How it works:</strong></p> <p>objD saves a representation of your project in the objd.json file of your project.
For each new build or reload it checks which parts of the project you changed and just generates the new necessary files to implement your change in the datapack.</p> <h2 id="objd-3rd-party-support"><a href="#objd-3rd-party-support" class="header-anchor">#</a> objD 3rd-Party-Support</h2> <p>Since Version 0.3.2 objD allows you to customize it much more and integrate into other projects. You can manually get all the generated Files as json, download zip binary data or use objD with Dart Web to allow a cross platform experience.</p> <p>Therefore a few methods are provided apart from createProject, that give you the output in alternate forms.</p> <h3 id="getallfiles"><a href="#getallfiles" class="header-anchor">#</a> getAllFiles</h3> <p><code>getAllFiles</code> accepts, just like createProject, your Project and optionally arguments. It then generates the widget tree and builds the files, but instead of saving them to your machine, returns them as a Dart Map(filename-content).</p> <p><strong>Example:</strong></p> <div class="language-dart extra-class"><pre class="language-dart"><code>  <span class="token keyword">var</span> files <span class="token operator">=</span> <span class="token function">getAllFiles</span><span class="token punctuation">(</span><span class="token function">Project</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">print</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; {pack.mcmeta: '...', data/minecraft/tags/functions/tick.json: '...', ...}</span>
</code></pre></div><h3 id="getjsonmap"><a href="#getjsonmap" class="header-anchor">#</a> getJsonMap</h3> <p>This function gets a json representation(Map) of the tree structure before generating the files. This is the same that is used as the <code>objd.json</code> output in debug mode.</p> <p><strong>Example:</strong></p> <div class="language-dart extra-class"><pre class="language-dart"><code>  <span class="token keyword">var</span> json <span class="token operator">=</span> <span class="token function">getJsonMap</span><span class="token punctuation">(</span><span class="token function">Project</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">print</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; {name:'...',path: '...', packs: [...]}</span>
</code></pre></div><h3 id="saveaszip"><a href="#saveaszip" class="header-anchor">#</a> saveAsZip</h3> <p>Saves or downloads(depending on platform) the project as a zip archive. Accepts a file Map(filename-content), most likely from getAllFiles, and a path to save to(must include filename + <code>.zip</code> extension)</p> <p><strong>Example:</strong></p> <div class="language-dart extra-class"><pre class="language-dart"><code>  <span class="token function">saveAsZip</span><span class="token punctuation">(</span>files<span class="token punctuation">,</span><span class="token string">'../my_folder/output.zip'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getarchive"><a href="#getarchive" class="header-anchor">#</a> getArchive</h3> <p>When you want to save it as any other Archive or want to implement own generation, you can get the Archive instance with all files added by calling getArchive with the files Map.
Read the documentation of the archive package to see what you are able to do: https://pub.dev/documentation/archive</p> <p><strong>Example:</strong></p> <div class="language-dart extra-class"><pre class="language-dart"><code>  <span class="token keyword">var</span> archive <span class="token operator">=</span> <span class="token function">getArchive</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/23/2020, 2:55:25 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/modules/" class="prev">
        Module
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5e592de7.js" defer></script><script src="/assets/js/3.08bce26b.js" defer></script><script src="/assets/js/9.d60579bc.js" defer></script>
  </body>
</html>
